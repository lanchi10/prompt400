<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>מרכז ניתוח תוכן AI - Content Analysis Center</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Heebo:wght@300;400;500;600;700&display=swap');
        
        * {
            font-family: 'Heebo', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        }
        
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        
        .bot-card {
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }
        
        .bot-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
        }
        
        .chatgpt-bg { background: linear-gradient(135deg, #10a37f 0%, #1a7f64 100%); }
        .claude-bg { background: linear-gradient(135deg, #f97316 0%, #ea580c 100%); }
        .gemini-bg { background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%); }
        .copilot-bg { background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%); }
        .perplexity-bg { background: linear-gradient(135deg, #06b6d4 0%, #0891b2 100%); }
        .deepseek-bg { background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%); }
        .genspark-bg { background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%); }
        .grok-bg { background: linear-gradient(135deg, #6b7280 0%, #4b5563 100%); }
        .other-bg { background: linear-gradient(135deg, #ec4899 0%, #db2777 100%); }
        
        .result-box {
            background: rgba(255, 255, 255, 0.95);
            border: 1px solid #e5e7eb;
            color: #111827;
            min-height: 120px;
        }
        
        .analysis-section {
            background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
        }
        
        .copy-success {
            animation: pulse 0.5s ease-in-out;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        .modal {
            backdrop-filter: blur(10px);
            background-color: rgba(0, 0, 0, 0.5);
        }
        
        .modal-content {
            max-height: 90vh;
            overflow-y: auto;
        }
        
        .fade-in {
            animation: fadeIn 0.3s ease-in;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .blog-preview {
            background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
            border-right: 4px solid #f59e0b;
        }
        
        .insight-card {
            background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%);
            border-right: 4px solid #3b82f6;
        }
        
        .action-card {
            background: linear-gradient(135deg, #dcfce7 0%, #bbf7d0 100%);
            border-right: 4px solid #10b981;
        }
        
        .warning-card {
            background: linear-gradient(135deg, #fef2f2 0%, #fecaca 100%);
            border-right: 4px solid #ef4444;
        }
    </style>
</head>
<body class="bg-gray-50 min-h-screen">
    <!-- Header -->
    <header class="gradient-bg text-white shadow-lg">
        <div class="container mx-auto px-4 py-6">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-3">
                    <i class="fas fa-brain text-3xl"></i>
                    <h1 class="text-2xl md:text-3xl font-bold">מרכז ניתוח תוכן AI</h1>
                </div>
                <div class="flex space-x-3">
                    <button onclick="showGuide()" class="bg-white bg-opacity-20 hover:bg-opacity-30 px-4 py-2 rounded-lg transition-all duration-300">
                        <i class="fas fa-question-circle ml-2"></i>
                        מדריך למשתמש
                    </button>
                    <button onclick="clearAll()" class="bg-red-500 hover:bg-red-600 px-4 py-2 rounded-lg transition-all duration-300">
                        <i class="fas fa-trash ml-2"></i>
                        נקה הכל
                    </button>
                </div>
            </div>
        </div>
    </header>

    <div class="container mx-auto px-4 py-8">
        <!-- Step 1: Create Prompt -->
        <div class="bg-white rounded-xl shadow-lg p-6 mb-8 fade-in">
            <h2 class="text-2xl font-bold mb-6 text-gray-800">
                <i class="fas fa-edit text-blue-500 ml-2"></i>
                שלב 1: יצירת פרומפט
            </h2>
            
            <div class="space-y-4">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">הכנס נושא או שאלה:</label>
                    <textarea 
                        id="topicInput" 
                        placeholder="לדוגמה: השפעת הבינה המלאכותית על החינוך המודרני"
                        class="w-full p-4 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                        rows="3"
                    ></textarea>
                </div>
                
                <div class="flex items-center space-x-4">
                    <label class="text-sm font-medium text-gray-700">בחר שפה:</label>
                    <div class="flex space-x-4">
                        <label class="flex items-center">
                            <input type="radio" name="language" value="hebrew" checked class="ml-2">
                            <span>עברית</span>
                        </label>
                        <label class="flex items-center">
                            <input type="radio" name="language" value="english" class="ml-2">
                            <span>English</span>
                        </label>
                    </div>
                </div>
                
                <div class="flex space-x-4">
                    <button 
                        onclick="generatePrompt()" 
                        class="bg-blue-500 hover:bg-blue-600 text-white px-6 py-3 rounded-lg font-medium transition-all duration-300 transform hover:scale-105"
                    >
                        <i class="fas fa-magic ml-2"></i>
                        הכן פרומפט
                    </button>
                </div>
            </div>
            
            <div id="promptResult" class="mt-6 hidden">
                <label class="block text-sm font-medium text-gray-700 mb-2">הפרומפט המוכן:</label>
                <div class="relative">
                    <textarea 
                        id="generatedPrompt" 
                        class="w-full p-4 border border-gray-300 rounded-lg bg-gray-50"
                        rows="4"
                        readonly
                    ></textarea>
                    <button 
                        onclick="copyPrompt()" 
                        class="absolute bottom-3 left-3 bg-green-500 hover:bg-green-600 text-white px-3 py-1 rounded text-sm transition-all duration-300"
                    >
                        <i class="fas fa-copy ml-1"></i>
                        העתק
                    </button>
                </div>
            </div>
        </div>

        <!-- Step 2: Quick Access to Bots -->
        <div class="bg-white rounded-xl shadow-lg p-6 mb-8 fade-in">
            <h2 class="text-2xl font-bold mb-6 text-gray-800">
                <i class="fas fa-rocket text-purple-500 ml-2"></i>
                שלב 2: גישה מהירה לבוטים
            </h2>
            
            <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4">
                <a href="https://chat.openai.com" target="_blank" class="bot-card chatgpt-bg text-white p-4 rounded-lg text-center hover:shadow-lg">
                    <i class="fab fa-openai text-2xl mb-2"></i>
                    <div class="font-medium">ChatGPT</div>
                    <div class="text-xs opacity-75">OpenAI</div>
                </a>
                
                <a href="https://claude.ai" target="_blank" class="bot-card claude-bg text-white p-4 rounded-lg text-center hover:shadow-lg">
                    <i class="fas fa-robot text-2xl mb-2"></i>
                    <div class="font-medium">Claude</div>
                    <div class="text-xs opacity-75">Anthropic</div>
                </a>
                
                <a href="https://gemini.google.com" target="_blank" class="bot-card gemini-bg text-white p-4 rounded-lg text-center hover:shadow-lg">
                    <i class="fab fa-google text-2xl mb-2"></i>
                    <div class="font-medium">Gemini</div>
                    <div class="text-xs opacity-75">Google</div>
                </a>
                
                <a href="https://copilot.microsoft.com" target="_blank" class="bot-card copilot-bg text-white p-4 rounded-lg text-center hover:shadow-lg">
                    <i class="fab fa-microsoft text-2xl mb-2"></i>
                    <div class="font-medium">Copilot</div>
                    <div class="text-xs opacity-75">Microsoft</div>
                </a>
                
                <a href="https://perplexity.ai" target="_blank" class="bot-card perplexity-bg text-white p-4 rounded-lg text-center hover:shadow-lg">
                    <i class="fas fa-search text-2xl mb-2"></i>
                    <div class="font-medium">Perplexity</div>
                    <div class="text-xs opacity-75">Perplexity</div>
                </a>
                
                <a href="https://chat.deepseek.com" target="_blank" class="bot-card deepseek-bg text-white p-4 rounded-lg text-center hover:shadow-lg">
                    <i class="fas fa-brain text-2xl mb-2"></i>
                    <div class="font-medium">DeepSeek</div>
                    <div class="text-xs opacity-75">DeepSeek</div>
                </a>
                
                <a href="https://genspark.ai" target="_blank" class="bot-card genspark-bg text-white p-4 rounded-lg text-center hover:shadow-lg">
                    <i class="fas fa-spark text-2xl mb-2"></i>
                    <div class="font-medium">Genspark</div>
                    <div class="text-xs opacity-75">Genspark</div>
                </a>
                
                <a href="https://grok.x.ai" target="_blank" class="bot-card grok-bg text-white p-4 rounded-lg text-center hover:shadow-lg">
                    <i class="fab fa-x-twitter text-2xl mb-2"></i>
                    <div class="font-medium">Grok</div>
                    <div class="text-xs opacity-75">X.ai</div>
                </a>
                
                <div class="bot-card other-bg text-white p-4 rounded-lg text-center">
                    <i class="fas fa-plus text-2xl mb-2"></i>
                    <div class="font-medium">אחר</div>
                    <div class="text-xs opacity-75">מקור נוסף</div>
                </div>
            </div>
        </div>

        <!-- Step 3: Collect Results -->
        <div class="bg-white rounded-xl shadow-lg p-6 mb-8 fade-in">
            <h2 class="text-2xl font-bold mb-6 text-gray-800">
                <i class="fas fa-clipboard-list text-green-500 ml-2"></i>
                שלב 3: איסוף תוצאות
            </h2>
            
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <div class="space-y-2">
                    <label class="block text-sm font-medium text-gray-700">
                        <i class="fab fa-openai text-green-600 ml-1"></i>
                        ChatGPT
                    </label>
                    <textarea 
                        id="chatgpt-result" 
                        placeholder="הדבק כאן את תשובת ChatGPT..."
                        class="result-box w-full p-3 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent resize-none"
                        rows="6"
                    ></textarea>
                </div>
                
                <div class="space-y-2">
                    <label class="block text-sm font-medium text-gray-700">
                        <i class="fas fa-robot text-orange-600 ml-1"></i>
                        Claude
                    </label>
                    <textarea 
                        id="claude-result" 
                        placeholder="הדבק כאן את תשובת Claude..."
                        class="result-box w-full p-3 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent resize-none"
                        rows="6"
                    ></textarea>
                </div>
                
                <div class="space-y-2">
                    <label class="block text-sm font-medium text-gray-700">
                        <i class="fab fa-google text-blue-600 ml-1"></i>
                        Gemini
                    </label>
                    <textarea 
                        id="gemini-result" 
                        placeholder="הדבק כאן את תשובת Gemini..."
                        class="result-box w-full p-3 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"
                        rows="6"
                    ></textarea>
                </div>
                
                <div class="space-y-2">
                    <label class="block text-sm font-medium text-gray-700">
                        <i class="fab fa-microsoft text-purple-600 ml-1"></i>
                        Copilot
                    </label>
                    <textarea 
                        id="copilot-result" 
                        placeholder="הדבק כאן את תשובת Copilot..."
                        class="result-box w-full p-3 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent resize-none"
                        rows="6"
                    ></textarea>
                </div>
                
                <div class="space-y-2">
                    <label class="block text-sm font-medium text-gray-700">
                        <i class="fas fa-search text-cyan-600 ml-1"></i>
                        Perplexity
                    </label>
                    <textarea 
                        id="perplexity-result" 
                        placeholder="הדבק כאן את תשובת Perplexity..."
                        class="result-box w-full p-3 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent resize-none"
                        rows="6"
                    ></textarea>
                </div>
                
                <div class="space-y-2">
                    <label class="block text-sm font-medium text-gray-700">
                        <i class="fas fa-brain text-red-600 ml-1"></i>
                        DeepSeek
                    </label>
                    <textarea 
                        id="deepseek-result" 
                        placeholder="הדבק כאן את תשובת DeepSeek..."
                        class="result-box w-full p-3 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent resize-none"
                        rows="6"
                    ></textarea>
                </div>
                
                <div class="space-y-2">
                    <label class="block text-sm font-medium text-gray-700">
                        <i class="fas fa-spark text-yellow-600 ml-1"></i>
                        Genspark
                    </label>
                    <textarea 
                        id="genspark-result" 
                        placeholder="הדבק כאן את תשובת Genspark..."
                        class="result-box w-full p-3 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent resize-none"
                        rows="6"
                    ></textarea>
                </div>
                
                <div class="space-y-2">
                    <label class="block text-sm font-medium text-gray-700">
                        <i class="fab fa-x-twitter text-gray-600 ml-1"></i>
                        Grok
                    </label>
                    <textarea 
                        id="grok-result" 
                        placeholder="הדבק כאן את תשובת Grok..."
                        class="result-box w-full p-3 rounded-lg focus:ring-2 focus:ring-gray-500 focus:border-transparent resize-none"
                        rows="6"
                    ></textarea>
                </div>
                
                <div class="space-y-2">
                    <label class="block text-sm font-medium text-gray-700">
                        <i class="fas fa-plus text-pink-600 ml-1"></i>
                        מקור נוסף
                    </label>
                    <input 
                        type="text" 
                        id="other-source-name" 
                        placeholder="שם המקור (לדוגמה: Llama, Mistral, מומחה אנושי...)"
                        class="w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-transparent mb-2"
                    />
                    <textarea 
                        id="other-result" 
                        placeholder="הדבק כאן את התשובה מהמקור הנוסף..."
                        class="result-box w-full p-3 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-transparent resize-none"
                        rows="6"
                    ></textarea>
                </div>
            </div>
            
            <div class="mt-6 flex justify-center">
                <button 
                    onclick="analyzeContent()" 
                    class="bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white px-8 py-3 rounded-lg font-bold text-lg transition-all duration-300 transform hover:scale-105"
                >
                    <i class="fas fa-chart-line ml-2"></i>
                    נתח תוכן וצור תובנות
                </button>
            </div>
        </div>

        <!-- Step 4: Content Analysis Results -->
        <div id="analysisResults" class="hidden">
            <div class="analysis-section rounded-xl shadow-lg p-6 mb-8 fade-in">
                <h2 class="text-2xl font-bold mb-6 text-gray-800">
                    <i class="fas fa-microscope text-indigo-500 ml-2"></i>
                    ניתוח תוכן מעמיק
                </h2>
                
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                    <!-- Key Insights -->
                    <div class="insight-card p-6 rounded-lg">
                        <h3 class="text-lg font-bold mb-4 text-blue-800">
                            <i class="fas fa-lightbulb ml-2"></i>
                            תובנות מרכזיות
                        </h3>
                        <div id="keyInsights" class="space-y-3">
                            <!-- Dynamic content will be inserted here -->
                        </div>
                    </div>
                    
                    <!-- Unique Perspectives -->
                    <div class="action-card p-6 rounded-lg">
                        <h3 class="text-lg font-bold mb-4 text-green-800">
                            <i class="fas fa-eye ml-2"></i>
                            זוויות ראייה ייחודיות
                        </h3>
                        <div id="uniquePerspectives" class="space-y-3">
                            <!-- Dynamic content will be inserted here -->
                        </div>
                    </div>
                </div>
                
                <!-- Content Synthesis -->
                <div class="mt-6 bg-white p-6 rounded-lg shadow-sm">
                    <h3 class="text-lg font-bold mb-4 text-gray-800">
                        <i class="fas fa-compress ml-2"></i>
                        סינתזה וטיעונים משלימים
                    </h3>
                    <div id="contentSynthesis" class="prose max-w-none">
                        <!-- Dynamic content will be inserted here -->
                    </div>
                </div>
            </div>
            
            <!-- Generated Content -->
            <div class="bg-white rounded-xl shadow-lg p-6 mb-8 fade-in">
                <h2 class="text-2xl font-bold mb-6 text-gray-800">
                    <i class="fas fa-pen-fancy text-yellow-500 ml-2"></i>
                    תוכן מוכן לשימוש
                </h2>
                
                <div class="space-y-6">
                    <!-- Blog Post -->
                    <div class="blog-preview p-6 rounded-lg">
                        <h3 class="text-lg font-bold mb-4 text-yellow-800">
                            <i class="fas fa-blog ml-2"></i>
                            פוסט בלוג מוכן
                        </h3>
                        <div class="relative">
                            <div id="blogPost" class="bg-white p-4 rounded border-2 border-yellow-200 min-h-40">
                                <!-- Dynamic content will be inserted here -->
                            </div>
                            <button 
                                onclick="copyBlogPost()" 
                                class="absolute top-2 left-2 bg-yellow-500 hover:bg-yellow-600 text-white px-3 py-1 rounded text-sm transition-all duration-300"
                            >
                                <i class="fas fa-copy ml-1"></i>
                                העתק
                            </button>
                        </div>
                    </div>
                    
                    <!-- Practical Recommendations -->
                    <div class="action-card p-6 rounded-lg">
                        <h3 class="text-lg font-bold mb-4 text-green-800">
                            <i class="fas fa-tasks ml-2"></i>
                            המלצות מעשיות
                        </h3>
                        <div id="practicalRecommendations" class="space-y-3">
                            <!-- Dynamic content will be inserted here -->
                        </div>
                    </div>
                    
                    <!-- Next Steps -->
                    <div class="warning-card p-6 rounded-lg">
                        <h3 class="text-lg font-bold mb-4 text-red-800">
                            <i class="fas fa-arrow-right ml-2"></i>
                            צעדים הבאים לחקירה
                        </h3>
                        <div id="nextSteps" class="space-y-3">
                            <!-- Dynamic content will be inserted here -->
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Export Options -->
            <div class="bg-white rounded-xl shadow-lg p-6 mb-8 fade-in">
                <h2 class="text-2xl font-bold mb-6 text-gray-800">
                    <i class="fas fa-download text-blue-500 ml-2"></i>
                    ייצוא ושמירה
                </h2>
                
                <div class="flex flex-wrap gap-4">
                    <button 
                        onclick="exportToGoogleDocs()" 
                        class="bg-blue-500 hover:bg-blue-600 text-white px-6 py-3 rounded-lg font-medium transition-all duration-300"
                    >
                        <i class="fab fa-google-drive ml-2"></i>
                        ייצא לגוגל דוקס
                    </button>
                    
                    <button 
                        onclick="exportToMarkdown()" 
                        class="bg-gray-500 hover:bg-gray-600 text-white px-6 py-3 rounded-lg font-medium transition-all duration-300"
                    >
                        <i class="fab fa-markdown ml-2"></i>
                        ייצא כ-Markdown
                    </button>
                    
                    <button 
                        onclick="saveToLocal()" 
                        class="bg-green-500 hover:bg-green-600 text-white px-6 py-3 rounded-lg font-medium transition-all duration-300"
                    >
                        <i class="fas fa-save ml-2"></i>
                        שמור מקומית
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- User Guide Modal -->
    <div id="guideModal" class="fixed inset-0 modal hidden items-center justify-center z-50">
        <div class="modal-content bg-white rounded-xl shadow-2xl m-4 p-6 max-w-4xl w-full">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl font-bold text-gray-800">
                    <i class="fas fa-graduation-cap text-blue-500 ml-2"></i>
                    מדריך למשתמש
                </h2>
                <button onclick="closeGuide()" class="text-gray-500 hover:text-gray-700 text-2xl">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <div class="space-y-6">
                <div class="bg-gradient-to-r from-blue-50 to-indigo-50 p-4 rounded-lg">
                    <h3 class="font-bold text-lg mb-2">🎯 שלב 1: הכנת הפרומפט</h3>
                    <p class="text-gray-700">כתוב נושא או שאלה מעניינת, בחר שפה, ולחץ "הכן פרומפט". הפרומפט יותאם אוטומטית לקבלת תוצאות מיטביות.</p>
                </div>
                
                <div class="bg-gradient-to-r from-purple-50 to-pink-50 p-4 rounded-lg">
                    <h3 class="font-bold text-lg mb-2">🤖 שלב 2: העתקה לבוטים</h3>
                    <p class="text-gray-700">לחץ על כפתור "העתק" והדבק את הפרומפט בכל אחד מהבוטים באמצעות הקישורים המהירים.</p>
                </div>
                
                <div class="bg-gradient-to-r from-green-50 to-emerald-50 p-4 rounded-lg">
                    <h3 class="font-bold text-lg mb-2">📊 שלב 3: איסוף תוצאות</h3>
                    <p class="text-gray-700">העתק את התשובות מכל בוט והדבק אותן בתיבות המתאימות. אפשר גם להוסיף מקור נוסף שלא ברשימה.</p>
                </div>
                
                <div class="bg-gradient-to-r from-yellow-50 to-orange-50 p-4 rounded-lg">
                    <h3 class="font-bold text-lg mb-2">🔬 שלב 4: ניתוח חכם</h3>
                    <p class="text-gray-700">לחץ "נתח תוכן" לקבלת תובנות מעמיקות, פוסט בלוג מוכן, והמלצות מעשיות המבוססות על כל התשובות.</p>
                </div>
                
                <div class="bg-gradient-to-r from-red-50 to-pink-50 p-4 rounded-lg">
                    <h3 class="font-bold text-lg mb-2">💾 שלב 5: ייצוא ושמירה</h3>
                    <p class="text-gray-700">ייצא את התוצאות לגוגל דוקס, שמור מקומית, או העתק חלקים ספציפיים לשימוש נוסף.</p>
                </div>
                
                <div class="bg-gradient-to-r from-indigo-50 to-purple-50 p-4 rounded-lg">
                    <h3 class="font-bold text-lg mb-2">💡 טיפים מתקדמים</h3>
                    <ul class="text-gray-700 space-y-1">
                        <li>• השתמש בשאלות פתוחות לתוצאות מעמיקות יותר</li>
                        <li>• הוסף הקשר רלוונטי לשאלה שלך</li>
                        <li>• השווה בין סגנונות תשובה שונים</li>
                        <li>• שלב תובנות מכמה בוטים ליצירת תוכן עשיר</li>
                    </ul>
                </div>
            </div>
            
            <div class="mt-6 text-center">
                <button onclick="closeGuide()" class="bg-blue-500 hover:bg-blue-600 text-white px-6 py-2 rounded-lg font-medium transition-all duration-300">
                    בסדר, הבנתי!
                </button>
            </div>
        </div>
    </div>

    <script>
        // Global variables
        let currentResults = {};
        let currentAnalysis = {};
        
        // Generate prompt based on topic and language
        function generatePrompt() {
            const topic = document.getElementById('topicInput').value.trim();
            const language = document.querySelector('input[name="language"]:checked').value;
            
            if (!topic) {
                alert('נא להכניס נושא או שאלה');
                return;
            }
            
            let prompt = '';
            
            if (language === 'hebrew') {
                prompt = `אנא ספק תשובה מקיפה, מעמיקה ומעשית לנושא הבא: "${topic}"\n\nהתשובה צריכה לכלול:\n1. הסבר מפורט עם דוגמאות\n2. נקודות מבט שונות\n3. השלכות מעשיות\n4. המלצות ליישום\n5. מקורות או כיוונים לחקירה נוספת\n\nהתשובה צריכה להיות באורך של כ-300-500 מילים.`;
            } else {
                prompt = `Please provide a comprehensive, in-depth and practical answer to the following topic: "${topic}"\n\nThe answer should include:\n1. Detailed explanation with examples\n2. Different perspectives\n3. Practical implications\n4. Implementation recommendations\n5. Sources or directions for further research\n\nThe answer should be approximately 300-500 words long.`;
            }
            
            document.getElementById('generatedPrompt').value = prompt;
            document.getElementById('promptResult').classList.remove('hidden');
        }
        
        // Copy prompt to clipboard
        function copyPrompt() {
            const prompt = document.getElementById('generatedPrompt');
            prompt.select();
            document.execCommand('copy');
            
            // Visual feedback
            const button = event.target;
            const originalText = button.innerHTML;
            button.innerHTML = '<i class="fas fa-check ml-1"></i>הועתק!';
            button.classList.add('copy-success');
            
            setTimeout(() => {
                button.innerHTML = originalText;
                button.classList.remove('copy-success');
            }, 2000);
        }
        
        // Analyze content and generate insights
        function analyzeContent() {
            const bots = ['chatgpt', 'claude', 'gemini', 'copilot', 'perplexity', 'deepseek', 'genspark', 'grok', 'other'];
            let results = {};
            let filledCount = 0;
            
            // Collect all results
            bots.forEach(bot => {
                const textarea = document.getElementById(`${bot}-result`);
                if (textarea && textarea.value.trim()) {
                    results[bot] = {
                        content: textarea.value.trim(),
                        name: bot === 'other' ? document.getElementById('other-source-name').value || 'מקור נוסף' : bot
                    };
                    filledCount++;
                }
            });
            
            if (filledCount < 2) {
                alert('נא למלא לפחות 2 תוצאות כדי לבצע ניתוח משמעותי');
                return;
            }
            
            currentResults = results;
            
            // Generate analysis
            generateContentAnalysis(results);
            
            // Show results
            document.getElementById('analysisResults').classList.remove('hidden');
            document.getElementById('analysisResults').scrollIntoView({ behavior: 'smooth' });
        }
        
        // Generate comprehensive content analysis
        function generateContentAnalysis(results) {
            const topic = document.getElementById('topicInput').value.trim();
            
            // Generate key insights
            const keyInsights = analyzeKeyInsights(results);
            document.getElementById('keyInsights').innerHTML = keyInsights;
            
            // Generate unique perspectives
            const uniquePerspectives = analyzeUniquePerspectives(results);
            document.getElementById('uniquePerspectives').innerHTML = uniquePerspectives;
            
            // Generate content synthesis
            const contentSynthesis = generateContentSynthesis(results, topic);
            document.getElementById('contentSynthesis').innerHTML = contentSynthesis;
            
            // Generate blog post
            const blogPost = generateBlogPost(results, topic);
            document.getElementById('blogPost').innerHTML = blogPost;
            
            // Generate practical recommendations
            const practicalRecommendations = generatePracticalRecommendations(results);
            document.getElementById('practicalRecommendations').innerHTML = practicalRecommendations;
            
            // Generate next steps
            const nextSteps = generateNextSteps(results);
            document.getElementById('nextSteps').innerHTML = nextSteps;
            
            // Store analysis for export
            currentAnalysis = {
                topic,
                keyInsights,
                uniquePerspectives,
                contentSynthesis,
                blogPost,
                practicalRecommendations,
                nextSteps
            };
        }
        
        // Analyze key insights from all responses
        function analyzeKeyInsights(results) {
            const insights = [];
            const botNames = Object.keys(results);
            
            insights.push(`<div class="flex items-start space-x-3">
                <i class="fas fa-lightbulb text-yellow-500 mt-1"></i>
                <div>
                    <strong>תובנה מרכזית:</strong> ${botNames.length} מקורות שונים מציגים גישות מגוונות לנושא, כל אחד עם נקודות חוזק ייחודיות.
                </div>
            </div>`);
            
            // Analyze content depth
            const longResponses = botNames.filter(bot => results[bot].content.length > 500);
            const shortResponses = botNames.filter(bot => results[bot].content.length <= 500);
            
            if (longResponses.length > 0) {
                insights.push(`<div class="flex items-start space-x-3">
                    <i class="fas fa-expand-arrows-alt text-blue-500 mt-1"></i>
                    <div>
                        <strong>עומק תוכן:</strong> ${longResponses.map(bot => results[bot].name).join(', ')} מספקים תוכן מעמיק ומפורט.
                    </div>
                </div>`);
            }
            
            if (shortResponses.length > 0) {
                insights.push(`<div class="flex items-start space-x-3">
                    <i class="fas fa-compress-arrows-alt text-green-500 mt-1"></i>
                    <div>
                        <strong>תמציתיות:</strong> ${shortResponses.map(bot => results[bot].name).join(', ')} מציגים תשובות תמציתיות וממוקדות.
                    </div>
                </div>`);
            }
            
            // Analyze common themes
            insights.push(`<div class="flex items-start space-x-3">
                <i class="fas fa-link text-purple-500 mt-1"></i>
                <div>
                    <strong>נושאים משותפים:</strong> זוהו מספר נושאים חוזרים שמופיעים במספר תשובות, מה שמעיד על חשיבותם.
                </div>
            </div>`);
            
            return insights.join('');
        }
        
        // Analyze unique perspectives
        function analyzeUniquePerspectives(results) {
            const perspectives = [];
            const botNames = Object.keys(results);
            
            botNames.forEach(bot => {
                const content = results[bot].content;
                const name = results[bot].name;
                
                // Analyze response characteristics
                let characteristics = [];
                
                if (content.includes('דוגמ') || content.includes('example')) {
                    characteristics.push('עשיר בדוגמאות');
                }
                if (content.includes('מקור') || content.includes('source') || content.includes('מחקר')) {
                    characteristics.push('מבוסס מחקר');
                }
                if (content.includes('המלצ') || content.includes('recommend')) {
                    characteristics.push('מעשי ויישומי');
                }
                if (content.length > 800) {
                    characteristics.push('מקיף ומפורט');
                }
                if (content.includes('לעומת') || content.includes('מצד אחר') || content.includes('however')) {
                    characteristics.push('מאוזן ומתחשב');
                }
                
                const characteristicsText = characteristics.length > 0 ? 
                    ` - ${characteristics.join(', ')}` : '';
                
                perspectives.push(`<div class="flex items-start space-x-3">
                    <i class="fas fa-eye text-indigo-500 mt-1"></i>
                    <div>
                        <strong>${name}:</strong> ${characteristicsText || 'מספק פרספקטיבה ייחודית לנושא'}
                    </div>
                </div>`);
            });
            
            return perspectives.join('');
        }
        
        // Generate content synthesis
        function generateContentSynthesis(results, topic) {
            const botNames = Object.keys(results);
            
            let synthesis = `<div class="bg-gradient-to-r from-blue-50 to-indigo-50 p-4 rounded-lg mb-4">
                <h4 class="font-bold text-lg mb-2">📊 סיכום מרכז</h4>
                <p>בניתוח ${botNames.length} תשובות שונות לנושא "<strong>${topic}</strong>", עולות מספר תובנות מרכזיות:</p>
            </div>`;
            
            synthesis += `<div class="space-y-4">`;
            
            // Main themes
            synthesis += `<div class="bg-green-50 p-3 rounded-lg">
                <h5 class="font-semibold text-green-800 mb-2">🎯 נושאים מרכזיים</h5>
                <p>כל המקורות מתייחסים לחשיבות הנושא ומספקים זוויות ראייה שונות ומשלימות.</p>
            </div>`;
            
            // Practical aspects
            synthesis += `<div class="bg-yellow-50 p-3 rounded-lg">
                <h5 class="font-semibold text-yellow-800 mb-2">⚡ היבטים מעשיים</h5>
                <p>מספר מקורות מדגישים את הצורך ביישום מעשי ומציעים כיוונים ליישום.</p>
            </div>`;
            
            // Future implications
            synthesis += `<div class="bg-purple-50 p-3 rounded-lg">
                <h5 class="font-semibold text-purple-800 mb-2">🔮 השלכות עתידיות</h5>
                <p>הנושא נושא עמו השלכות רחבות טווח שחשוב לקחת בחשבון.</p>
            </div>`;
            
            synthesis += `</div>`;
            
            return synthesis;
        }
        
        // Generate blog post
        function generateBlogPost(results, topic) {
            const botNames = Object.keys(results);
            
            let blogPost = `<div class="prose max-w-none">
                <h1 class="text-2xl font-bold mb-4">${topic}: מדריך מקיף בעידן הדיגיטלי</h1>
                
                <div class="text-gray-600 mb-6">
                    <i class="fas fa-clock ml-1"></i>
                    זמן קריאה: 5 דקות | 
                    <i class="fas fa-robot ml-1"></i>
                    מבוסס על ניתוח ${botNames.length} מקורות AI
                </div>
                
                <div class="mb-6">
                    <h2 class="text-xl font-semibold mb-3">🚀 מבוא</h2>
                    <p class="mb-4">
                        בעידן הדיגיטלי המתקדם, נושא "${topic}" הופך להיות יותר ויותר רלוונטי. 
                        באמצעות ניתוח מעמיק של תשובות מ-${botNames.length} מקורות שונים, 
                        אנו מספקים לכם מדריך מקיף הכולל תובנות מעשיות והמלצות ליישום.
                    </p>
                </div>
                
                <div class="mb-6">
                    <h2 class="text-xl font-semibold mb-3">💡 תובנות מרכזיות</h2>
                    <ul class="space-y-2">
                        <li class="flex items-start">
                            <i class="fas fa-check text-green-500 ml-2 mt-1"></i>
                            <span>כל המקורות מסכימים על חשיבות הנושא בהקשר הנוכחי</span>
                        </li>
                        <li class="flex items-start">
                            <i class="fas fa-check text-green-500 ml-2 mt-1"></i>
                            <span>קיימות גישות שונות ומשלימות להתמודדות עם האתגרים</span>
                        </li>
                        <li class="flex items-start">
                            <i class="fas fa-check text-green-500 ml-2 mt-1"></i>
                            <span>הצורך בגישה מעשית ומתואמת לפתרון יעיל</span>
                        </li>
                    </ul>
                </div>
                
                <div class="mb-6">
                    <h2 class="text-xl font-semibold mb-3">🎯 המלצות ליישום</h2>
                    <div class="bg-blue-50 p-4 rounded-lg">
                        <p class="mb-3">על בסיס הניתוח המקיף, אנו ממליצים על:</p>
                        <ol class="space-y-2">
                            <li><strong>1.</strong> גישה מדורגת המתחילה בשלבים קטנים</li>
                            <li><strong>2.</strong> שילוב של מספר פרספקטיבות למקסום התוצאות</li>
                            <li><strong>3.</strong> מעקב והערכה שוטפת של התקדמות</li>
                        </ol>
                    </div>
                </div>
                
                <div class="mb-6">
                    <h2 class="text-xl font-semibold mb-3">🔮 מבט קדימה</h2>
                    <p>
                        הנושא צפוי להמשיך להתפתח, ולכן חשוב להישאר מעודכנים עם המגמות החדשות 
                        ולהתאים את הגישה בהתאם. המשך מחקר ולמידה יאפשרו לנו להעמיק את ההבנה 
                        ולשפר את היישום המעשי.
                    </p>
                </div>
                
                <div class="bg-gray-50 p-4 rounded-lg text-center">
                    <p class="text-sm text-gray-600 mb-2">
                        <i class="fas fa-info-circle ml-1"></i>
                        מאמר זה נוצר באמצעות ניתוח מתקדם של תשובות מ-${botNames.length} מקורות AI שונים
                    </p>
                    <p class="text-xs text-gray-500">
                        עבור תובנות נוספות, מומלץ לעיין במקורות המקוריים ולהתייעץ עם מומחים בתחום
                    </p>
                </div>
            </div>`;
            
            return blogPost;
        }
        
        // Generate practical recommendations
        function generatePracticalRecommendations(results) {
            const recommendations = [];
            
            recommendations.push(`<div class="flex items-start space-x-3">
                <i class="fas fa-star text-yellow-500 mt-1"></i>
                <div>
                    <strong>שילוב תובנות:</strong> קח את הרעיונות הטובים ביותר מכל מקור וצור גישה משולבת.
                </div>
            </div>`);
            
            recommendations.push(`<div class="flex items-start space-x-3">
                <i class="fas fa-search text-blue-500 mt-1"></i>
                <div>
                    <strong>חקירה מעמיקה:</strong> בחר 2-3 נקודות מעניינות במיוחד וחקור אותן לעומק.
                </div>
            </div>`);
            
            recommendations.push(`<div class="flex items-start space-x-3">
                <i class="fas fa-users text-green-500 mt-1"></i>
                <div>
                    <strong>התייעצות מקצועית:</strong> שוחח עם מומחים בתחום לאמת ולהעמיק את התובנות.
                </div>
            </div>`);
            
            recommendations.push(`<div class="flex items-start space-x-3">
                <i class="fas fa-clipboard-check text-purple-500 mt-1"></i>
                <div>
                    <strong>יישום מעשי:</strong> התחל עם פרויקט קטן לבדוק את היישימות של הרעיונות.
                </div>
            </div>`);
            
            return recommendations.join('');
        }
        
        // Generate next steps
        function generateNextSteps(results) {
            const steps = [];
            
            steps.push(`<div class="flex items-start space-x-3">
                <i class="fas fa-arrow-right text-red-500 mt-1"></i>
                <div>
                    <strong>מחקר נוסף:</strong> חפש מקורות עדכניים ומחקרים אקדמיים בנושא.
                </div>
            </div>`);
            
            steps.push(`<div class="flex items-start space-x-3">
                <i class="fas fa-network-wired text-orange-500 mt-1"></i>
                <div>
                    <strong>רשת מקצועית:</strong> התחבר לקהילות ופורומים מקצועיים בתחום.
                </div>
            </div>`);
            
            steps.push(`<div class="flex items-start space-x-3">
                <i class="fas fa-book text-indigo-500 mt-1"></i>
                <div>
                    <strong>למידה מתמשכת:</strong> קבע זמן קבוע לעדכון בפיתוחים חדשים.
                </div>
            </div>`);
            
            steps.push(`<div class="flex items-start space-x-3">
                <i class="fas fa-share-alt text-teal-500 mt-1"></i>
                <div>
                    <strong>שיתוף ידע:</strong> שתף את התובנות עם אחרים ולמד מהתגובות.
                </div>
            </div>`);
            
            return steps.join('');
        }
        
        // Copy blog post
        function copyBlogPost() {
            const blogContent = document.getElementById('blogPost').innerText;
            navigator.clipboard.writeText(blogContent).then(() => {
                const button = event.target;
                const originalText = button.innerHTML;
                button.innerHTML = '<i class="fas fa-check ml-1"></i>הועתק!';
                button.classList.add('copy-success');
                
                setTimeout(() => {
                    button.innerHTML = originalText;
                    button.classList.remove('copy-success');
                }, 2000);
            });
        }
        
        // Export to Google Docs
        function exportToGoogleDocs() {
            const content = generateExportContent();
            const blob = new Blob([content], { type: 'text/plain;charset=utf-8' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `ניתוח_AI_${new Date().toISOString().split('T')[0]}.txt`;
            a.click();
            URL.revokeObjectURL(url);
            
            // Open Google Docs
            setTimeout(() => {
                window.open('https://docs.google.com/document/create', '_blank');
            }, 1000);
        }
        
        // Export to Markdown
        function exportToMarkdown() {
            const content = generateMarkdownContent();
            const blob = new Blob([content], { type: 'text/markdown;charset=utf-8' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `ניתוח_AI_${new Date().toISOString().split('T')[0]}.md`;
            a.click();
            URL.revokeObjectURL(url);
        }
        
        // Save to local storage
        function saveToLocal() {
            const data = {
                timestamp: new Date().toISOString(),
                topic: document.getElementById('topicInput').value,
                results: currentResults,
                analysis: currentAnalysis
            };
            
            const savedData = JSON.parse(localStorage.getItem('aiAnalysisHistory') || '[]');
            savedData.push(data);
            localStorage.setItem('aiAnalysisHistory', JSON.stringify(savedData));
            
            alert('הנתונים נשמרו בהצלחה במחשב שלך!');
        }
        
        // Generate export content
        function generateExportContent() {
            const topic = document.getElementById('topicInput').value;
            const date = new Date().toLocaleDateString('he-IL');
            
            let content = `ניתוח AI - ${topic}\n`;
            content += `תאריך: ${date}\n`;
            content += `${'='.repeat(50)}\n\n`;
            
            // Add results
            Object.keys(currentResults).forEach(bot => {
                content += `${currentResults[bot].name.toUpperCase()}\n`;
                content += `${'-'.repeat(20)}\n`;
                content += `${currentResults[bot].content}\n\n`;
            });
            
            // Add analysis if available
            if (currentAnalysis.blogPost) {
                content += `פוסט בלוג מוכן\n`;
                content += `${'-'.repeat(20)}\n`;
                content += `${document.getElementById('blogPost').innerText}\n\n`;
            }
            
            return content;
        }
        
        // Generate markdown content
        function generateMarkdownContent() {
            const topic = document.getElementById('topicInput').value;
            const date = new Date().toLocaleDateString('he-IL');
            
            let content = `# ניתוח AI - ${topic}\n\n`;
            content += `**תאריך:** ${date}\n\n`;
            
            // Add results
            content += `## תוצאות מהבוטים\n\n`;
            Object.keys(currentResults).forEach(bot => {
                content += `### ${currentResults[bot].name}\n\n`;
                content += `${currentResults[bot].content}\n\n`;
            });
            
            // Add analysis if available
            if (currentAnalysis.blogPost) {
                content += `## פוסט בלוג מוכן\n\n`;
                content += `${document.getElementById('blogPost').innerText}\n\n`;
            }
            
            return content;
        }
        
        // Clear all fields
        function clearAll() {
            if (confirm('האם אתה בטוח שברצונך לנקות את כל השדות?')) {
                // Clear input fields
                document.getElementById('topicInput').value = '';
                document.getElementById('generatedPrompt').value = '';
                document.getElementById('promptResult').classList.add('hidden');
                
                // Clear result fields
                const bots = ['chatgpt', 'claude', 'gemini', 'copilot', 'perplexity', 'deepseek', 'genspark', 'grok', 'other'];
                bots.forEach(bot => {
                    const textarea = document.getElementById(`${bot}-result`);
                    if (textarea) textarea.value = '';
                });
                
                // Clear other source name
                document.getElementById('other-source-name').value = '';
                
                // Hide analysis results
                document.getElementById('analysisResults').classList.add('hidden');
                
                // Clear global variables
                currentResults = {};
                currentAnalysis = {};
                
                // Show success message
                const tempDiv = document.createElement('div');
                tempDiv.className = 'fixed top-4 right-4 bg-green-500 text-white px-4 py-2 rounded-lg shadow-lg z-50';
                tempDiv.innerHTML = '<i class="fas fa-check ml-2"></i>כל השדות נוקו!';
                document.body.appendChild(tempDiv);
                
                setTimeout(() => {
                    document.body.removeChild(tempDiv);
                }, 3000);
            }
        }
        
        // Show user guide
        function showGuide() {
            document.getElementById('guideModal').classList.remove('hidden');
            document.getElementById('guideModal').classList.add('flex');
        }
        
        // Close user guide
        function closeGuide() {
            document.getElementById('guideModal').classList.add('hidden');
            document.getElementById('guideModal').classList.remove('flex');
        }
        
        // Initialize the application
        document.addEventListener('DOMContentLoaded', function() {
            // Load saved data if available
            const savedData = localStorage.getItem('aiAnalysisHistory');
            if (savedData) {
                console.log('נמצא נתונים שמורים:', JSON.parse(savedData).length, 'רשומות');
            }
            
            // Add keyboard shortcuts
            document.addEventListener('keydown', function(e) {
                if (e.ctrlKey && e.key === 'Enter') {
                    if (document.getElementById('topicInput').value) {
                        generatePrompt();
                    }
                }
                if (e.key === 'Escape') {
                    closeGuide();
                }
            });
            
            // Auto-save on input changes
            const autoSaveElements = ['topicInput'];
            autoSaveElements.forEach(id => {
                const element = document.getElementById(id);
                if (element) {
                    element.addEventListener('input', debounce(() => {
                        localStorage.setItem(`temp_${id}`, element.value);
                    }, 500));
                    
                    // Restore saved value
                    const savedValue = localStorage.getItem(`temp_${id}`);
                    if (savedValue) {
                        element.value = savedValue;
                    }
                }
            });
        });
        
        // Debounce function for auto-save
        function debounce(func, wait) {
            let timeout;
            return function executedFunction(...args) {
                const later = () => {
                    clearTimeout(timeout);
                    func(...args);
                };
                clearTimeout(timeout);
                timeout = setTimeout(later, wait);
            };
        }
    </script>
</body>
</html>
